;------------------------------------------------------------------------------------
; Прерывание 12h - Определение размера оперативной памяти
; 
; Функция: Возвращает размер установленной оперативной памяти в килобайтах.
; Вход:   Нет параметров
; Выход:  AX = размер памяти в КБ (килобайтах)
; 
; Примечание: Значение берется из области данных BIOS (BDA) по адресу 040h:013h,
;             где оно было сохранено во время тестирования памяти в POST (Power-On Self Test).
;------------------------------------------------------------------------------------
proc		int_12h near
                sti					; Разрешаем прерывания
                push	ds				; Сохраняем регистр DS
                mov	ax, BDAseg			; Загружаем сегмент области данных BIOS (040h)
                mov	ds, ax				; Устанавливаем DS на сегмент BDA
                assume ds:nothing
                
                ; Загружаем размер памяти из BDA (смещение 013h - main_ram_size_)
                mov	ax, [ds:main_ram_size_]	; AX = размер ОЗУ в КБ
                
                pop	ds				; Восстанавливаем исходное значение DS
                assume ds:nothing
                iret					; Возврат из прерывания
endp		int_12h