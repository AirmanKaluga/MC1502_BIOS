;---------------------------------------------------------------------------------------------------
; Прерывание 1Dh - Таблицы параметров видеоадаптера
;
; Внимание: Это не обработчик прерывания в обычном смысле!
; Вектор прерывания 1Dh указывает на таблицы параметров видеоадаптера.
; Эти таблицы используются обработчиком int 10h для инициализации и настройки
; видеоадаптера в различных режимах.
;
; Структура таблиц соответствует видеоадаптеру CGA (Color Graphics Adapter)
; и его совместимым аналогам в МС1502.
;
; Формат таблиц инициализации (по 16 байт на каждый режим):
;   Байт 0: Horizontal total (горизонтальное общее количество символов)
;   Байт 1: Horizontal displayed (горизонтальное отображаемое количество символов)
;   Байт 2: Horizontal sync position (позиция горизонтальной синхронизации)
;   Байт 3: Horizontal sync width (ширина импульса горизонтальной синхронизации)
;   Байт 4: Vertical total (вертикальное общее количество строк)
;   Байт 5: Vertical total adjust (корректировка вертикального общего количества)
;   Байт 6: Vertical displayed (вертикальное отображаемое количество строк)
;   Байт 7: Vertical sync position (позиция вертикальной синхронизации)
;   Байт 8: Interface mode (режим интерфейса)
;   Байт 9: Maximum scan line (максимальная строка сканирования)
;   Байт 10: Cursor start (начало курсора)
;   Байт 11: Cursor end (конец курсора)
;   Байт 12: Start address high (старший байт начального адреса)
;   Байт 13: Start address low (младший байт начального адреса)
;   Байт 14: Cursor position high (старший байт позиции курсора)
;   Байт 15: Cursor position low (младший байт позиции курсора)
;---------------------------------------------------------------------------------------------------
proc		int_1Dh	far

; ---------------------------------------------------------------------------
; Таблица 1: Параметры для режима 40x25 цветной текст (16 цветов)
; ---------------------------------------------------------------------------
                db	38h      ; Horizontal total = 56 символов
                db	28h      ; Horizontal displayed = 40 символов
                db	2Dh      ; Horizontal sync position = 45
                db	0Ah      ; Horizontal sync width = 10
                db	1Fh      ; Vertical total = 31 строк
                db	6        ; Vertical total adjust = 6
                db	19h      ; Vertical displayed = 25 строк
                db	1Ch      ; Vertical sync position = 28
                db	2        ; Interface mode = нет чересстрочности
                db	7        ; Maximum scan line = 7 (высота символа 8 пикселей)
                db	6        ; Cursor start = строка 6
                db	7        ; Cursor end = строка 7
                db	0        ; Start address high = 0
                db	0        ; Start address low = 0
                db	0        ; Cursor position high = 0
                db	0        ; Cursor position low = 0

; ---------------------------------------------------------------------------
; Таблица 2: Параметры для режима 80x25 цветной текст (16 цветов)
; ---------------------------------------------------------------------------
                db	71h      ; Horizontal total = 113 символов
                db	50h      ; Horizontal displayed = 80 символов
                db	5Ah      ; Horizontal sync position = 90
                db	0Ah      ; Horizontal sync width = 10
                db	1Fh      ; Vertical total = 31 строк
                db	6        ; Vertical total adjust = 6
                db	19h      ; Vertical displayed = 25 строк
                db	1Ch      ; Vertical sync position = 28
                db	2        ; Interface mode = нет чересстрочности
                db	7        ; Maximum scan line = 7 (высота символа 8 пикселей)
                db	6        ; Cursor start = строка 6
                db	7        ; Cursor end = строка 7
                db	0        ; Start address high = 0
                db	0        ; Start address low = 0
                db	0        ; Cursor position high = 0
                db	0        ; Cursor position low = 0

; ---------------------------------------------------------------------------
; Таблица 3: Параметры для графического режима (вероятно, 320x200)
; ---------------------------------------------------------------------------
                db	38h      ; Horizontal total = 56 символов
                db	28h      ; Horizontal displayed = 40 символов
                db	2Dh      ; Horizontal sync position = 45
                db	0Ah      ; Horizontal sync width = 10
                db	7Fh      ; Vertical total = 127 строк
                db	6        ; Vertical total adjust = 6
                db	64h      ; Vertical displayed = 100 строк
                db	70h      ; Vertical sync position = 112
                db	2        ; Interface mode = нет чересстрочности
                db	1        ; Maximum scan line = 1 (графический режим)
                db	6        ; Cursor start = строка 6
                db	7        ; Cursor end = строка 7
                db	0        ; Start address high = 0
                db	0        ; Start address low = 0
                db	0        ; Cursor position high = 0
                db	0        ; Cursor position low = 0

; ---------------------------------------------------------------------------
; Таблица 4: Параметры для режима 80x25 черно-белый текст
; ---------------------------------------------------------------------------
                db	61h      ; Horizontal total = 97 символов
                db	50h      ; Horizontal displayed = 80 символов
                db	52h      ; Horizontal sync position = 82
                db	0Fh      ; Horizontal sync width = 15
                db	19h      ; Vertical total = 25 строк
                db	6        ; Vertical total adjust = 6
                db	19h      ; Vertical displayed = 25 строк
                db	19h      ; Vertical sync position = 25
                db	2        ; Interface mode = нет чересстрочности
                db	0Dh      ; Maximum scan line = 13 (высота символа 14 пикселей?)
                db	0Bh      ; Cursor start = строка 11
                db	0Ch      ; Cursor end = строка 12
                db	0        ; Start address high = 0
                db	0        ; Start address low = 0
                db	0        ; Cursor position high = 0
                db	0        ; Cursor position low = 0

; ---------------------------------------------------------------------------
; Таблица размеров регенерационного буфера для разных режимов (в словах)
; Регенерационный буфер - это область памяти, хранящая содержимое экрана
; ---------------------------------------------------------------------------
regen_len	dw	0800h		; 2048 слов = 4KB для 40x25 (40*25*2 = 2000 байт)
                dw	1000h		; 4096 слов = 8KB для 80x25 (80*25*2 = 4000 байт)
                dw	4000h		; 16384 слов = 32KB для графического режима 320x200
                dw	4000h		; 16384 слов = 32KB для 80x25 Ч/Б (резерв?)

; ---------------------------------------------------------------------------
; Таблица максимального количества колонок для 8 режимов
; Индекс соответствует номеру видео режима
; ---------------------------------------------------------------------------
max_cols	db	28h		; Режим 0: 40 колонок (40 decimal = 28h)
                db	28h		; Режим 1: 40 колонок
                db	50h		; Режим 2: 80 колонок
                db	50h		; Режим 3: 80 колонок
                db	28h		; Режим 4: 40 колонок (графический 320x200?)
                db	28h		; Режим 5: 40 колонок
                db	50h		; Режим 6: 80 колонок
                db	50h		; Режим 7: 80 колонок (монохромный)

; ---------------------------------------------------------------------------
; Таблица настроек аппаратного режима видеоадаптера
; Значения для регистра режима видеоадаптера (порт 3D8h для CGA)
; ---------------------------------------------------------------------------
video_hdwr_mode db	2Ch		; Режим 0: 40x25 цветной, включено видео
                db	28h		; Режим 1: 40x25 цветной, выключено видео?
                db	2Dh		; Режим 2: 80x25 цветной, включено видео
                db	29h		; Режим 3: 80x25 цветной, выключено видео?
                db	2Ah		; Режим 4: 320x200 цветной графический
                db	2Eh		; Режим 5: 320x200 черно-белый графический
                db	1Eh		; Режим 6: 640x200 черно-белый графический
                db	29h		; Режим 7: 80x25 монохромный текст

; ---------------------------------------------------------------------------
; Таблица умножения для вычисления начального адреса страницы видео памяти
; Используется для вычисления: адрес = номер_страницы * коэффициент
; ---------------------------------------------------------------------------
mul_lookup      db	00h		; Коэффициент для страницы 0
                db	00h		; Коэффициент для страницы 1 (не используется?)
                db	10h		; Коэффициент для страницы 2 (сдвиг на 4 бита)
                db	10h		; Коэффициент для страницы 3
                db	20h		; Коэффициент для страницы 4 (сдвиг на 5 бит)
                db	20h		; Коэффициент для страницы 5
                db	20h		; Коэффициент для страницы 6
                db	30h		; Коэффициент для страницы 7 (сдвиг на 4 и 5 бит)

endp		int_1Dh
